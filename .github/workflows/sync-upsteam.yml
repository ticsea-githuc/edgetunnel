name: Sync upstream

      on:
        schedule:
          - cron: '0 0 * * *' # 每天 UTC 时间午夜运行
        workflow_dispatch: # 允许手动触发

      jobs:
        sync:
          runs-on: ubuntu-latest
          steps:
            - name: Checkout fork
              uses: actions/checkout@v3
              with:
                ref: main # 同步的分支名称

            - name: Add upstream repository
              run: |
                git remote add upstream https://github.com/cmliu/edgetunnel.git
                git fetch upstream

            - name: Merge upstream changes
              run: |
                git checkout main
                git merge upstream/main
                git push origin main